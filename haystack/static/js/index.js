!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var t=function(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})}(e),r=0,n=this.bindings;r<n.length;r++){var i=n[r];if(t.immediatePropagationStopped)break;i.handleEvent(t)}},Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(e,t){var r=e.index,n=t.index;return r<n?-1:r>n?1:0}))},enumerable:!1,configurable:!0}),e}();var i=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(e){return e.connect()})))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(e){return e.disconnect()})))},Object.defineProperty(e.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(e,t){return e.concat(Array.from(t.values()))}),[])},enumerable:!1,configurable:!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,r){void 0===r&&(r={}),this.application.handleError(e,"Error "+t,r)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,r=e.eventName,n=e.eventOptions;return this.fetchEventListener(t,r,n)},e.prototype.fetchEventListener=function(e,t,r){var n=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,r),s=n.get(i);return s||(s=this.createEventListener(e,t,r),n.set(i,s)),s},e.prototype.createEventListener=function(e,t,r){var i=new n(e,t,r);return this.started&&i.connect(),i},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e.prototype.cacheKey=function(e,t){var r=[e];return Object.keys(t).sort().forEach((function(e){r.push((t[e]?"":"!")+e)})),r.join(":")},e}(),s=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;var o=function(){function e(e,t,r){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||function(e){var t=e.tagName.toLowerCase();if(t in a)return a[t](e)}(e)||c("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||c("missing identifier"),this.methodName=r.methodName||c("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,(r=e.content,i=r.trim().match(s)||[],{eventTarget:(t=i[4],"window"==t?window:"document"==t?document:void 0),eventName:i[2],eventOptions:i[9]?(n=i[9],n.split(":").reduce((function(e,t){var r;return Object.assign(e,((r={})[t.replace(/^!/,"")]=!/^!/.test(t),r))}),{})):{},identifier:i[5],methodName:i[7]}));var t,r,n,i},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{get:function(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e},enumerable:!1,configurable:!0}),e}(),a={a:function(e){return"click"},button:function(e){return"click"},form:function(e){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"input"},select:function(e){return"change"},textarea:function(e){return"input"}};function c(e){throw new Error(e)}var u=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{get:function(){return this.action.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventOptions",{get:function(){return this.action.eventOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!1,configurable:!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(r){var t={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:e};this.context.handleError(r,'invoking action "'+this.action+'"',t)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element))},Object.defineProperty(e.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),e}(),l=function(){function e(e,t){var r=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((function(e){return r.processMutations(e)}))}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,r=Array.from(this.elements);t<r.length;t++){var n=r[t];e.has(n)||this.removeElement(n)}for(var i=0,s=Array.from(e);i<s.length;i++){n=s[i];this.addElement(n)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,r=e;t<r.length;t++){var n=r[t];this.processMutation(n)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var r=e;this.elements.has(r)?this.delegate.elementAttributeChanged&&this.matchElement(r)?this.delegate.elementAttributeChanged(r,t):this.removeElement(r):this.matchElement(r)&&this.addElement(r)},e.prototype.processRemovedNodes=function(e){for(var t=0,r=Array.from(e);t<r.length;t++){var n=r[t],i=this.elementFromNode(n);i&&this.processTree(i,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,r=Array.from(e);t<r.length;t++){var n=r[t],i=this.elementFromNode(n);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var r=0,n=this.matchElementsInTree(e);r<n.length;r++){var i=n[r];t.call(this,i)}},e.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},e.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),h=function(){function e(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new l(e,this)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!1,configurable:!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}(),d=function(){function e(e,t){var r=this;this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((function(e){return r.processMutations(e)}))}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started)for(var e=0,t=this.knownAttributeNames;e<t.length;e++){var r=t[e];this.refreshAttribute(r)}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,r=e;t<r.length;t++){var n=r[t];this.processMutation(n)}},e.prototype.processMutation=function(e){var t=e.attributeName;t&&this.refreshAttribute(t)},e.prototype.refreshAttribute=function(e){var t=this.delegate.getStringMapKeyForAttribute(e);if(null!=t){this.stringMap.has(e)||this.stringMapKeyAdded(t,e);var r=this.element.getAttribute(e);this.stringMap.get(e)!=r&&this.stringMapValueChanged(r,t),null==r?(this.stringMap.delete(e),this.stringMapKeyRemoved(t,e)):this.stringMap.set(e,r)}},e.prototype.stringMapKeyAdded=function(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)},e.prototype.stringMapValueChanged=function(e,t){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t)},e.prototype.stringMapKeyRemoved=function(e,t){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t)},Object.defineProperty(e.prototype,"knownAttributeNames",{get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentAttributeNames",{get:function(){return Array.from(this.element.attributes).map((function(e){return e.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recordedAttributeNames",{get:function(){return Array.from(this.stringMap.keys())},enumerable:!1,configurable:!0}),e}();function p(e,t,r){m(e,t).add(r)}function f(e,t,r){m(e,t).delete(r),function(e,t){var r=e.get(t);null!=r&&0==r.size&&e.delete(t)}(e,t)}function m(e,t){var r=e.get(t);return r||(r=new Set,e.set(t,r)),r}var g,b=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e.concat(Array.from(t))}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e+t.size}),0)},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t){p(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){f(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var r=this.valuesByKey.get(e);return null!=r&&r.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){return Array.from(this.valuesByKey.values()).some((function(t){return t.has(e)}))},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter((function(t){t[0];return t[1].has(e)})).map((function(e){var t=e[0];e[1];return t}))},e}(),y=(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}y(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!1,configurable:!0}),t.prototype.add=function(t,r){e.prototype.add.call(this,t,r),p(this.keysByValue,r,t)},t.prototype.delete=function(t,r){e.prototype.delete.call(this,t,r),f(this.keysByValue,r,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]}}(b),function(){function e(e,t,r){this.attributeObserver=new h(e,t,this),this.delegate=r,this.tokensByElement=new b}return Object.defineProperty(e.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!1,configurable:!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),r=t[0],n=t[1];this.tokensUnmatched(r),this.tokensMatched(n)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach((function(e){return t.tokenMatched(e)}))},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach((function(e){return t.tokenUnmatched(e)}))},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t,r,n,i=this.tokensByElement.getValuesForKey(e),s=this.readTokensForElement(e),o=(t=i,r=s,n=Math.max(t.length,r.length),Array.from({length:n},(function(e,n){return[t[n],r[n]]}))).findIndex((function(e){return!function(e,t){return e&&t&&e.index==t.index&&e.content==t.content}(e[0],e[1])}));return-1==o?[[],[]]:[i.slice(o),s.slice(o)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName;return function(e,t,r){return e.trim().split(/\s+/).filter((function(e){return e.length})).map((function(e,n){return{element:t,attributeName:r,content:e,index:n}}))}(e.getAttribute(t)||"",e,t)},e}());var E=function(){function e(e,t,r){this.tokenListObserver=new v(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!1,configurable:!0}),e.prototype.tokenMatched=function(e){var t=e.element,r=this.fetchParseResultForToken(e).value;r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r))},e.prototype.tokenUnmatched=function(e){var t=e.element,r=this.fetchParseResultForToken(e).value;r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}},e}(),w=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new E(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.context.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!1,configurable:!0}),e.prototype.connectAction=function(e){var t=new u(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach((function(t){return e.delegate.bindingDisconnected(t)})),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=o.forToken(e);if(t.identifier==this.identifier)return t},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),S=function(){function e(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new d(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return e.prototype.start=function(){this.stringMapObserver.start()},e.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),e.prototype.getStringMapKeyForAttribute=function(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name},e.prototype.stringMapValueChanged=function(e,t){this.invokeChangedCallbackForValue(t)},e.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var e=0,t=this.valueDescriptors;e<t.length;e++){var r=t[e],n=r.key,i=r.name;null==r.defaultValue||this.controller.data.has(n)||this.invokeChangedCallbackForValue(i)}},e.prototype.invokeChangedCallbackForValue=function(e){var t=e+"Changed",r=this.receiver[t];if("function"==typeof r){var n=this.receiver[e];r.call(this.receiver,n)}},Object.defineProperty(e.prototype,"valueDescriptors",{get:function(){var e=this.valueDescriptorMap;return Object.keys(e).map((function(t){return e[t]}))},enumerable:!1,configurable:!0}),e}(),A=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new w(this,this.dispatcher),this.valueObserver=new S(this,this.controller);try{this.controller.initialize()}catch(e){this.handleError(e,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{get:function(){return this.module.application},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!1,configurable:!0}),e.prototype.handleError=function(e,t,r){void 0===r&&(r={});var n=this.identifier,i=this.controller,s=this.element;r=Object.assign({identifier:n,controller:i,element:s},r),this.application.handleError(e,"Error "+t,r)},e}();function O(e,t){var r=L(e);return Array.from(r.reduce((function(e,r){return function(e,t){var r=e[t];return Array.isArray(r)?r:[]}(r,t).forEach((function(t){return e.add(t)})),e}),new Set))}function C(e,t){return L(e).reduce((function(e,r){return e.push.apply(e,function(e,t){var r=e[t];return r?Object.keys(r).map((function(e){return[e,r[e]]})):[]}(r,t)),e}),[])}function L(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}var k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n};function P(e){return function(e,t){var r=R(e),n=function(e,t){return M(t).reduce((function(r,n){var i,s=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e,r);if(!n||!("value"in n)){var i=Object.getOwnPropertyDescriptor(t,r).value;return n&&(i.get=n.get||i.get,i.set=n.set||i.set),i}}(e,t,n);return s&&Object.assign(r,((i={})[n]=s,i)),r}),{})}(e.prototype,t);return Object.defineProperties(r.prototype,n),r}(e,function(e){return O(e,"blessings").reduce((function(t,r){var n=r(e);for(var i in n){var s=t[i]||{};t[i]=Object.assign(s,n[i])}return t}),{})}(e))}var M="function"==typeof Object.getOwnPropertySymbols?function(e){return T(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,R=function(){function e(e){function t(){var r=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,r)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return(t=e((function(){this.a.call(this)}))).prototype.a=function(){},new t,e}catch(e){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t}(e)}}var t}();var F=function(){function e(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:P(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!1,configurable:!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new A(this,e),this.contextsByScope.set(e,t)),t},e}(),B=function(){function e(e){this.scope=e}return e.prototype.has=function(e){return this.data.has(this.getDataKey(e))},e.prototype.get=function(e){return this.data.get(this.getDataKey(e))},e.prototype.getAttributeName=function(e){return this.data.getAttributeNameForKey(this.getDataKey(e))},e.prototype.getDataKey=function(e){return e+"-class"},Object.defineProperty(e.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),e}();function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}function j(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}var N=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)},e.prototype.set=function(e,t){var r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)},e.prototype.has=function(e){var t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)},e.prototype.delete=function(e){if(this.has(e)){var t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1},e.prototype.getAttributeNameForKey=function(e){return"data-"+this.identifier+"-"+j(e)},e}(),H=function(){function e(e){this.warnedKeysByObject=new WeakMap,this.logger=e}return e.prototype.warn=function(e,t,r){var n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(r,e))},e}();function x(e,t){return"["+e+'~="'+t+'"]'}var q=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},V=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!1,configurable:!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.reduce((function(t,r){return t||e.findTarget(r)||e.findLegacyTarget(r)}),void 0)},e.prototype.findAll=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.reduce((function(t,r){return q(t,e.findAllTargets(r),e.findAllLegacyTargets(r))}),[])},e.prototype.findTarget=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findElement(t)},e.prototype.findAllTargets=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)},e.prototype.getSelectorForTargetName=function(e){return x("data-"+this.identifier+"-target",e)},e.prototype.findLegacyTarget=function(e){var t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)},e.prototype.findAllLegacyTargets=function(e){var t=this,r=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(r).map((function(r){return t.deprecate(r,e)}))},e.prototype.getLegacySelectorForTargetName=function(e){var t=this.identifier+"."+e;return x(this.schema.targetAttribute,t)},e.prototype.deprecate=function(e,t){if(e){var r=this.identifier,n=this.schema.targetAttribute;this.guide.warn(e,"target:"+t,"Please replace "+n+'="'+r+"."+t+'" with data-'+r+'-target="'+t+'". The '+n+" attribute is deprecated and will be removed in a future version of Stimulus.")}return e},Object.defineProperty(e.prototype,"guide",{get:function(){return this.scope.guide},enumerable:!1,configurable:!0}),e}(),D=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},K=function(){function e(e,t,r,n){var i=this;this.targets=new V(this),this.classes=new B(this),this.data=new N(this),this.containsElement=function(e){return e.closest(i.controllerSelector)===i.element},this.schema=e,this.element=t,this.identifier=r,this.guide=new H(n)}return e.prototype.findElement=function(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)},e.prototype.findAllElements=function(e){return D(this.element.matches(e)?[this.element]:[],this.queryElements(e).filter(this.containsElement))},e.prototype.queryElements=function(e){return Array.from(this.element.querySelectorAll(e))},Object.defineProperty(e.prototype,"controllerSelector",{get:function(){return x(this.schema.controllerAttribute,this.identifier)},enumerable:!1,configurable:!0}),e}(),U=function(){function e(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new E(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),e.prototype.parseValueForToken=function(e){var t=e.element,r=e.content,n=this.fetchScopesByIdentifierForElement(t),i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(t,r),n.set(r,i)),i},e.prototype.elementMatchedValue=function(e,t){var r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),1==r&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),1==r&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),W=function(){function e(e){this.application=e,this.scopeObserver=new U(this.element,this.schema,this),this.scopesByIdentifier=new b,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{get:function(){return this.application.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this.application.logger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return this.modules.reduce((function(e,t){return e.concat(t.contexts)}),[])},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new F(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find((function(t){return t.element==e}))},e.prototype.handleError=function(e,t,r){this.application.handleError(e,t,r)},e.prototype.createScopeForElementAndIdentifier=function(e,t){return new K(this.schema,e,t,this.logger)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.connectContextForScope(t)}))},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.disconnectContextForScope(t)}))},e}(),_={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},z=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},$=function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},J=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},X=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=_),this.logger=console,this.element=e,this.schema=t,this.dispatcher=new i(this),this.router=new W(this)}return e.start=function(t,r){var n=new e(t,r);return n.start(),n},e.prototype.start=function(){return z(this,void 0,void 0,(function(){return $(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()}))];case 1:return e.sent(),this.dispatcher.start(),this.router.start(),[2]}}))}))},e.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},e.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},e.prototype.load=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Array.isArray(e)?e:J([e],r);i.forEach((function(e){return t.router.loadDefinition(e)}))},e.prototype.unload=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Array.isArray(e)?e:J([e],r);i.forEach((function(e){return t.router.unloadIdentifier(e)}))},Object.defineProperty(e.prototype,"controllers",{get:function(){return this.router.contexts.map((function(e){return e.controller}))},enumerable:!1,configurable:!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null},e.prototype.handleError=function(e,t,r){this.logger.error("%s\n\n%o\n\n%o",t,e,r)},e}();function Y(e){return O(e,"classes").reduce((function(e,t){return Object.assign(e,((n={})[i=(r=t)+"Class"]={get:function(){var e=this.classes;if(e.has(r))return e.get(r);var t=e.getAttributeName(r);throw new Error('Missing attribute "'+t+'"')}},n["has"+I(i)]={get:function(){return this.classes.has(r)}},n));var r,n,i}),{})}function G(e){return O(e,"targets").reduce((function(e,t){return Object.assign(e,((n={})[(r=t)+"Target"]={get:function(){var e=this.targets.find(r);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+r+'"')}},n[r+"Targets"]={get:function(){return this.targets.findAll(r)}},n["has"+I(r)+"Target"]={get:function(){return this.targets.has(r)}},n));var r,n}),{})}function Z(e){var t=C(e,"values"),r={valueDescriptorMap:{get:function(){var e=this;return t.reduce((function(t,r){var n,i=Q(r),s=e.data.getAttributeNameForKey(i.key);return Object.assign(t,((n={})[s]=i,n))}),{})}}};return t.reduce((function(e,t){return Object.assign(e,function(e){var t,r=Q(e),n=r.type,i=r.key,s=r.name,o=te[n],a=re[n]||re.default;return(t={})[s]={get:function(){var e=this.data.get(i);return null!==e?o(e):r.defaultValue},set:function(e){void 0===e?this.data.delete(i):this.data.set(i,a(e))}},t["has"+I(s)]={get:function(){return this.data.has(i)}},t}(t))}),r)}function Q(e){return function(e,t){var r=j(e)+"-value";return{type:t,key:r,name:(n=r,n.replace(/(?:[_-])([a-z0-9])/g,(function(e,t){return t.toUpperCase()}))),get defaultValue(){return ee[t]}};var n}(e[0],function(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+e+'"')}(e[1]))}var ee={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},te={array:function(e){var t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError("Expected array");return t},boolean:function(e){return!("0"==e||"false"==e)},number:function(e){return parseFloat(e)},object:function(e){var t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Expected object");return t},string:function(e){return e}},re={default:function(e){return""+e},array:ne,object:ne};function ne(e){return JSON.stringify(e)}var ie=function(){function e(e){this.context=e}return Object.defineProperty(e.prototype,"application",{get:function(){return this.context.application},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classes",{get:function(){return this.scope.classes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.blessings=[Y,G,Z],e.targets=[],e.values={},e}();r.d(t,"a",(function(){return X})),r.d(t,"b",(function(){return ie}))},function(e,t,r){"use strict";r.r(t),r.d(t,"clearCache",(function(){return oe})),r.d(t,"connectStreamSource",(function(){return ne})),r.d(t,"disconnectStreamSource",(function(){return ie})),r.d(t,"navigator",(function(){return Q})),r.d(t,"registerAdapter",(function(){return te})),r.d(t,"renderStreamMessage",(function(){return se})),r.d(t,"setProgressBarDelay",(function(){return ae})),r.d(t,"start",(function(){return ee})),r.d(t,"visit",(function(){return re})),function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}();const n=new WeakMap;function i(e){const t=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,r=t?t.closest("input, button"):null;return"submit"==(null==r?void 0:r.type)?r:null}(e.target);t&&t.form&&n.set(t.form,t)}"SubmitEvent"in window||(addEventListener("click",i,!0),Object.defineProperty(Event.prototype,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return n.get(this.target)}}));class s{constructor(e){const t=document.createElement("a");t.href=e,this.absoluteURL=t.href;const r=t.hash.length;r<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-r),this.anchor=t.hash.slice(1))}static get currentLocation(){return this.wrap(window.location.toString())}static wrap(e){return"string"==typeof e?new this(e):null!=e?e:void 0}getOrigin(){return this.absoluteURL.split("/",3).join("/")}getPath(){return(this.requestURL.match(/\/\/[^/]*(\/[^?;]*)/)||[])[1]||"/"}getPathComponents(){return this.getPath().split("/").slice(1)}getLastPathComponent(){return this.getPathComponents().slice(-1)[0]}getExtension(){return(this.getLastPathComponent().match(/\.[^.]*$/)||[])[0]||""}isHTML(){return!!this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)}isPrefixedBy(e){const t=function(e){return t=e.getOrigin()+e.getPath(),r=t,n="/",r.slice(-n.length)===n?t:t+"/";var t,r,n}(e);return this.isEqualTo(e)||(r=this.absoluteURL,n=t,r.slice(0,n.length)===n);var r,n}isEqualTo(e){return e&&this.absoluteURL===e.absoluteURL}toCacheKey(){return this.requestURL}toJSON(){return this.absoluteURL}toString(){return this.absoluteURL}valueOf(){return this.absoluteURL}}class o{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return s.wrap(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^text\/html|^application\/xhtml\+xml/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.text()}get responseHTML(){return this.isHTML?this.response.text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function a(e,{target:t,cancelable:r,detail:n}={}){const i=new CustomEvent(e,{cancelable:r,bubbles:!0,detail:n});return(t||document.documentElement).dispatchEvent(i),i}function c(){return new Promise(e=>requestAnimationFrame(()=>e()))}function u(){return Promise.resolve()}function l(e,...t){const r=function(e,t){return e.reduce((e,r,n)=>e+r+(null==t[n]?"":t[n]),"")}(e,t).replace(/^\n/,"").split("\n"),n=r[0].match(/^\s+/),i=n?n[0].length:0;return r.map(e=>e.slice(i)).join("\n")}function h(){return Array.apply(null,{length:36}).map((e,t)=>8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)).join("")}var d,p;!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"}(d||(d={}));class f{constructor(e,t,r,n){this.abortController=new AbortController,this.delegate=e,this.method=t,this.location=r,this.body=n}get url(){const e=this.location.absoluteURL,t=this.params.toString();return this.isIdempotent&&t.length?[e,t].join(e.includes("?")?"&":"?"):e}get params(){return this.entries.reduce((e,[t,r])=>(e.append(t,r.toString()),e),new URLSearchParams)}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;a("turbo:before-fetch-request",{detail:{fetchOptions:e}});try{this.delegate.requestStarted(this);const t=await fetch(this.url,e);return await this.receive(t)}catch(e){throw this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new o(e);return a("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t}}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){return{method:d[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?void 0:this.body,signal:this.abortSignal}}get isIdempotent(){return this.method==d.get}get headers(){return Object.assign({Accept:"text/html, application/xhtml+xml"},this.additionalHeaders)}get additionalHeaders(){return"function"==typeof this.delegate.additionalHeadersForRequest?this.delegate.additionalHeadersForRequest(this):{}}get abortSignal(){return this.abortController.signal}}class m{constructor(e,t){this.submitBubbled=e=>{if(e.target instanceof HTMLFormElement){const t=e.target,r=e.submitter||void 0;this.delegate.shouldInterceptFormSubmission(t,r)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmissionIntercepted(t,r))}},this.delegate=e,this.element=t}start(){this.element.addEventListener("submit",this.submitBubbled)}stop(){this.element.removeEventListener("submit",this.submitBubbled)}}!function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(p||(p={}));class g{constructor(e,t,r,n=!1){this.state=p.initialized,this.delegate=e,this.formElement=t,this.formData=function(e,t){const r=new FormData(e),n=null==t?void 0:t.getAttribute("name"),i=null==t?void 0:t.getAttribute("value");n&&r.get(n)!=i&&r.append(n,i||"");return r}(t,r),this.submitter=r,this.fetchRequest=new f(this,this.method,this.location,this.formData),this.mustRedirect=n}get method(){var e;return function(e){switch(e.toLowerCase()){case"get":return d.get;case"post":return d.post;case"put":return d.put;case"patch":return d.patch;case"delete":return d.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||d.get}get action(){var e;return(null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formaction"))||this.formElement.action}get location(){return s.wrap(this.action)}async start(){const{initialized:e,requesting:t}=p;if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=p;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}additionalHeadersForRequest(e){const t={};if(this.method!=d.get){const e=function(e){if(null!=e){const t=(document.cookie?document.cookie.split("; "):[]).find(t=>t.startsWith(e));if(t){const e=t.split("=").slice(1).join("=");return e?decodeURIComponent(e):void 0}}}(b("csrf-param"))||b("csrf-token");e&&(t["X-CSRF-Token"]=e)}return t}requestStarted(e){this.state=p.waiting,a("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&!t.redirected){const e=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,e)}else this.state=p.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=p.stopped,a("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}}function b(e){const t=document.querySelector(`meta[name="${e}"]`);return t&&t.content}class y{constructor(e,t){this.clickBubbled=e=>{this.respondsToEventTarget(e.target)?this.clickEvent=e:delete this.clickEvent},this.linkClicked=e=>{this.clickEvent&&this.respondsToEventTarget(e.target)&&e.target instanceof Element&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url)),delete this.clickEvent},this.willVisit=()=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class v{constructor(e){this.resolveVisitPromise=()=>{},this.element=e,this.linkInterceptor=new y(this,this.element),this.formInterceptor=new m(this,this.element)}connect(){this.linkInterceptor.start(),this.formInterceptor.start()}disconnect(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(e,t){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}shouldInterceptFormSubmission(e){return this.shouldInterceptNavigation(e)}formSubmissionIntercepted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new g(this,e,t),this.formSubmission.fetchRequest.isIdempotent?this.navigateFrame(e,this.formSubmission.fetchRequest.url):this.formSubmission.start()}async visit(e){const t=s.wrap(e),r=new f(this,d.get,t);return new Promise(e=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},e()},r.perform()})}additionalHeadersForRequest(e){return{"Turbo-Frame":this.id}}requestStarted(e){this.element.setAttribute("busy","")}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestFailedWithResponse(e,t){console.error(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){this.element.removeAttribute("busy")}formSubmissionStarted(e){}formSubmissionSucceededWithResponse(e,t){this.findFrameElement(e.formElement).controller.loadResponse(t)}formSubmissionFailedWithResponse(e,t){this.element.controller.loadResponse(t)}formSubmissionErrored(e,t){}formSubmissionFinished(e){}navigateFrame(e,t){this.findFrameElement(e).src=t}findFrameElement(e){var t;return null!==(t=E(e.getAttribute("data-turbo-frame")))&&void 0!==t?t:this.element}async loadResponse(e){const t=function(e=""){return document.implementation.createHTMLDocument().createRange().createContextualFragment(e)}(await e.responseHTML),r=await this.extractForeignFrameElement(t);r&&(await c(),this.loadFrameElement(r),this.scrollFrameIntoView(r),await c(),this.focusFirstAutofocusableElement())}async extractForeignFrameElement(e){let t;const r=CSS.escape(this.id);return(t=w(e.querySelector("turbo-frame#"+r)))?t:(t=w(e.querySelector(`turbo-frame[src][recurse~=${r}]`)))?(await t.loaded,await this.extractForeignFrameElement(t)):void 0}loadFrameElement(e){var t;const r=document.createRange();r.selectNodeContents(this.element),r.deleteContents();const n=null===(t=e.ownerDocument)||void 0===t?void 0:t.createRange();n&&(n.selectNodeContents(e),this.element.appendChild(n.extractContents()))}focusFirstAutofocusableElement(){const e=this.firstAutofocusableElement;return!!e&&(e.focus(),!0)}scrollFrameIntoView(e){if(this.element.autoscroll||e.autoscroll){const e=this.element.firstElementChild,n=(t=this.element.getAttribute("data-autoscroll-block"),r="end","end"==t||"start"==t||"center"==t||"nearest"==t?t:r);if(e)return e.scrollIntoView({block:n}),!0}var t,r;return!1}shouldInterceptNavigation(e){const t=e.getAttribute("data-turbo-frame")||this.element.getAttribute("target");if(!this.enabled||"_top"==t)return!1;if(t){const e=E(t);if(e)return!e.disabled}return!0}get firstAutofocusableElement(){const e=this.element.querySelector("[autofocus]");return e instanceof HTMLElement?e:null}get id(){return this.element.id}get enabled(){return!this.element.disabled}}function E(e){if(null!=e){const t=document.getElementById(e);if(t instanceof S)return t}}function w(e){if(e&&e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof S)return e}class S extends HTMLElement{constructor(){super(),this.controller=new v(this)}static get observedAttributes(){return["src"]}connectedCallback(){this.controller.connect()}disconnectedCallback(){this.controller.disconnect()}attributeChangedCallback(){if(this.src&&this.isActive){const e=this.controller.visit(this.src);Object.defineProperty(this,"loaded",{value:e,configurable:!0})}}formSubmissionIntercepted(e,t){this.controller.formSubmissionIntercepted(e,t)}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loaded(){return Promise.resolve(void 0)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")}}customElements.define("turbo-frame",S);const A={append(){var e;null===(e=this.targetElement)||void 0===e||e.append(this.templateContent)},prepend(){var e;null===(e=this.targetElement)||void 0===e||e.prepend(this.templateContent)},remove(){var e;null===(e=this.targetElement)||void 0===e||e.remove()},replace(){var e;null===(e=this.targetElement)||void 0===e||e.replaceWith(this.templateContent)},update(){this.targetElement&&(this.targetElement.innerHTML="",this.targetElement.append(this.templateContent))}};class O extends HTMLElement{async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await c(),this.performAction())})()}disconnect(){try{this.remove()}catch(e){}}get performAction(){if(this.action){const e=A[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElement(){var e;if(this.target)return null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);this.raise("target attribute is missing")}get templateContent(){return this.templateElement.content}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}}customElements.define("turbo-stream",O),(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(;e=e.parentElement;)if(e==document.body)return console.warn(l`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML)})();class C{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return l`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 9999;
        transition:
          width ${C.animationDuration}ms ease-out,
          opacity ${C.animationDuration/2}ms ${C.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*C.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,C.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=10+90*this.value+"%"})}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=C.defaultCSS,e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}C.animationDuration=300;function L(e){return function(e){return"script"==e.tagName.toLowerCase()}(e)?"script":function(e){const t=e.tagName.toLowerCase();return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function k(e){return"reload"==e.getAttribute("data-turbo-track")}class T{constructor(e,t){this.headDetails=e,this.bodyElement=t}static wrap(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)}static fromHTMLString(e){const{documentElement:t}=(new DOMParser).parseFromString(e,"text/html");return this.fromHTMLElement(t)}static fromHTMLElement(e){const t=e.querySelector("head"),r=e.querySelector("body")||document.createElement("body");return new this(class{constructor(e){this.detailsByOuterHTML=e.reduce((e,t)=>{const{outerHTML:r}=t,n=r in e?e[r]:{type:L(t),tracked:k(t),elements:[]};return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},n),{elements:[...n.elements,t]})})},{})}static fromHeadElement(e){return new this(e?[...e.children]:[])}getTrackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInDetails(e){return this.getElementsMatchingTypeNotInDetails("script",e)}getStylesheetElementsNotInDetails(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)}getElementsMatchingTypeNotInDetails(e,t){return Object.keys(this.detailsByOuterHTML).filter(e=>!(e in t.detailsByOuterHTML)).map(e=>this.detailsByOuterHTML[e]).filter(({type:t})=>t==e).map(({elements:[e]})=>e)}getProvisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:r,tracked:n,elements:i}=this.detailsByOuterHTML[t];return null!=r||n?i.length>1?[...e,...i.slice(1)]:e:[...e,...i]},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{elements:[n]}=this.detailsByOuterHTML[r];return function(e,t){return"meta"==e.tagName.toLowerCase()&&e.getAttribute("name")==t}(n,e)?n:t},void 0)}}.fromHeadElement(t),r)}clone(){const{bodyElement:e}=T.fromHTMLString(this.bodyElement.outerHTML);return new T(this.headDetails,e)}getRootLocation(){const e=this.getSetting("root","/");return new s(e)}getCacheControlValue(){return this.getSetting("cache-control")}getElementForAnchor(e){try{return this.bodyElement.querySelector(`[id='${e}'], a[name='${e}']`)}catch(e){return null}}getPermanentElements(){return[...this.bodyElement.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(e){return this.bodyElement.querySelector(`#${e}[data-turbo-permanent]`)}getPermanentElementsPresentInSnapshot(e){return this.getPermanentElements().filter(({id:t})=>e.getPermanentElementById(t))}findFirstAutofocusableElement(){return this.bodyElement.querySelector("[autofocus]")}hasAnchor(e){return null!=this.getElementForAnchor(e)}isPreviewable(){return"no-preview"!=this.getCacheControlValue()}isCacheable(){return"no-cache"!=this.getCacheControlValue()}isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(e,t){const r=this.headDetails.getMetaValue("turbo-"+e);return null==r?t:r}}var P,M;!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(P||(P={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(M||(M={}));const R={action:"advance",historyChanged:!1};var F,B;!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(F||(F={}));class I{constructor(e,t,r,n={}){this.identifier=h(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=M.initialized,this.performScroll=()=>{this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},this.delegate=e,this.location=t,this.restorationIdentifier=r||h();const{action:i,historyChanged:s,referrer:o,snapshotHTML:a,response:c}=Object.assign(Object.assign({},R),n);this.action=i,this.historyChanged=s,this.referrer=o,this.snapshotHTML=a,this.response=c}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}start(){this.state==M.initialized&&(this.recordTimingMetric(P.visitStart),this.state=M.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==M.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=M.canceled)}complete(){this.state==M.started&&(this.recordTimingMetric(P.visitEnd),this.state=M.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this))}fail(){this.state==M.started&&(this.state=M.failed,this.adapter.visitFailed(this))}changeHistory(){if(!this.historyChanged){const e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=this.getHistoryMethodForAction(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new f(this,d.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(P.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;j(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(P.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(()=>{this.cacheSnapshot(),j(e)&&null!=t?(this.view.render({snapshot:T.fromHTMLString(t)},this.performScroll),this.adapter.visitRendered(this),this.complete()):(this.view.render({error:t},this.performScroll),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!this.location.anchor||e.hasAnchor(this.location.anchor))&&("restore"==this.action||e.isPreviewable()))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return T.wrap(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(()=>{this.cacheSnapshot(),this.view.render({snapshot:e,isPreview:t},this.performScroll),this.adapter.visitRendered(this),t||this.complete()})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&(this.location=this.redirectedToLocation,this.history.replace(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const r=await t.responseHTML;null==r?this.recordResponse({statusCode:F.contentTypeMismatch}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:t.statusCode,responseHTML:r}))}async requestFailedWithResponse(e,t){const r=await t.responseHTML;null==r?this.recordResponse({statusCode:F.contentTypeMismatch}):this.recordResponse({statusCode:t.statusCode,responseHTML:r})}requestErrored(e,t){this.recordResponse({statusCode:F.networkFailure})}requestFinished(){this.finishRequest()}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){if(null!=this.location.anchor)return this.view.scrollToAnchor(this.location.anchor),!0}scrollToTop(){this.view.scrollToPosition({x:0,y:0})}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return"restore"!=this.action||!this.hasCachedSnapshot()}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(),this.snapshotCached=!0)}render(e){this.cancelRender(),this.frame=requestAnimationFrame(()=>{delete this.frame,e.call(this)})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function j(e){return e>=200&&e<300}class N{constructor(e){this.progressBar=new C,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,h(),t)}visitStarted(e){e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case F.networkFailure:case F.timeoutFailure:case F.contentTypeMismatch:return this.reload();default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideProgressBar()}visitCompleted(e){e.followRedirect()}pageInvalidated(){this.reload()}visitFailed(e){}visitRendered(e){}showProgressBarAfterDelay(){this.progressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideProgressBar(){this.progressBar.hide(),null!=this.progressBarTimeout&&(window.clearTimeout(this.progressBarTimeout),delete this.progressBarTimeout)}reload(){window.location.reload()}get navigator(){return this.session.navigator}}class H{constructor(e){this.started=!1,this.submitCaptured=()=>{removeEventListener("submit",this.submitBubbled,!1),addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;if(t){"dialog"!=((null==r?void 0:r.getAttribute("formmethod"))||t.method)&&this.delegate.willSubmitForm(t,r)&&(e.preventDefault(),this.delegate.formSubmitted(t,r))}}},this.delegate=e}start(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class x{constructor(e){this.element=e,this.linkInterceptor=new y(this,e),this.formInterceptor=new m(this,e)}start(){this.linkInterceptor.start(),this.formInterceptor.start()}stop(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(e,t){return this.shouldRedirect(e)}linkClickIntercepted(e,t){const r=this.findFrameElement(e);r&&(r.src=t)}shouldInterceptFormSubmission(e,t){return this.shouldRedirect(e,t)}formSubmissionIntercepted(e,t){const r=this.findFrameElement(e);r&&r.formSubmissionIntercepted(e,t)}shouldRedirect(e,t){const r=this.findFrameElement(e);return!!r&&r!=e.closest("turbo-frame")}findFrameElement(e){const t=e.getAttribute("data-turbo-frame");if(t&&"_top"!=t){const e=this.element.querySelector(`#${t}:not([disabled])`);if(e instanceof S)return e}}}class q{constructor(e){this.restorationIdentifier=h(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){const e=s.currentLocation;this.location=e;const{restorationIdentifier:r}=t;this.restorationIdentifier=r,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)}}},this.onPageLoad=async e=>{await u(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(this.previousScrollRestoration=history.scrollRestoration,history.scrollRestoration="manual",addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(s.currentLocation))}stop(){var e;this.started&&(history.scrollRestoration=null!==(e=this.previousScrollRestoration)&&void 0!==e?e:"auto",removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=h()){const n={turbo:{restorationIdentifier:r}};e.call(history,n,"",t.absoluteURL),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},r),e)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class V{constructor(e){this.started=!1,this.clickCaptured=()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=e=>{if(this.clickEventIsSignificant(e)){const t=this.findLinkFromClickTarget(e.target);if(t){const r=this.getLocationForLink(t);this.delegate.willFollowLinkToLocation(t,r)&&(e.preventDefault(),this.delegate.followedLinkToLocation(t,r))}}},this.delegate=e}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return new s(e.getAttribute("href")||"")}}class D{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocation(e)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,r={}){this.stop(),this.currentVisit=new I(this,s.wrap(e),t,Object.assign({referrer:this.location},r)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new g(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const r=await t.responseHTML;if(r){e.method!=d.get&&this.view.clearSnapshotCache();const{statusCode:n}=t,i={response:{statusCode:n,responseHTML:r}};this.proposeVisit(t.location,i)}}}async formSubmissionFailedWithResponse(e,t){const r=await t.responseHTML;if(r){const e=T.fromHTMLString(r);this.view.render({snapshot:e},()=>{}),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){}formSubmissionFinished(e){}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete",e[e.invalidated=4]="invalidated"}(B||(B={}));class K{constructor(e){this.stage=B.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:e}=this;"interactive"==e?this.pageIsInteractive():"complete"==e&&this.pageIsComplete()},this.delegate=e}start(){this.started||(this.stage==B.initial&&(this.stage=B.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),this.started=!1)}invalidate(){this.stage!=B.invalidated&&(this.stage=B.invalidated,this.delegate.pageInvalidated())}pageIsInteractive(){this.stage==B.loading&&(this.stage=B.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==B.interactive&&(this.stage=B.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class U{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class W{constructor(e){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=e}static wrap(e){return"string"==typeof e?new this(e):e}get fragment(){const e=document.createDocumentFragment();for(const t of this.foreignElements)e.appendChild(document.importNode(t,!0));return e}get foreignElements(){return this.templateChildren.reduce((e,t)=>"turbo-stream"==t.tagName.toLowerCase()?[...e,t]:e,[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}class _{constructor(e){this.sources=new Set,this.started=!1,this.prepareFetchRequest=e=>{var t;const r=null===(t=e.detail)||void 0===t?void 0:t.fetchOptions;if(r){const{headers:e}=r;e.Accept=["text/html; turbo-stream",e.Accept].join(", ")}},this.inspectFetchResponse=e=>{const t=function(e){var t;const r=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(r instanceof o)return r}(e);t&&function(e){var t;const r=null!==(t=e.contentType)&&void 0!==t?t:"";return/text\/html;.*\bturbo-stream\b/.test(r)}(t)&&(e.preventDefault(),this.receiveMessageResponse(t))},this.receiveMessageEvent=e=>{this.started&&"string"==typeof e.data&&this.receiveMessageHTML(e.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-request",this.prepareFetchRequest,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-request",this.prepareFetchRequest,!0),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(new W(e))}}class z{renderView(e){this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)}invalidateView(){this.delegate.viewInvalidated()}createScriptElement(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script");return t.textContent=e.textContent,t.async=!1,function(e,t){for(const{name:r,value:n}of[...t.attributes])e.setAttribute(r,n)}(t,e),t}}}class $ extends z{constructor(e,t){super(),this.delegate=e,this.htmlElement=(()=>{const e=document.createElement("html");return e.innerHTML=t,e})(),this.newHead=this.htmlElement.querySelector("head")||document.createElement("head"),this.newBody=this.htmlElement.querySelector("body")||document.createElement("body")}static render(e,t,r){return new this(e,r).render(t)}render(e){this.renderView(()=>{this.replaceHeadAndBody(),this.activateBodyScriptElements(),e()})}replaceHeadAndBody(){const{documentElement:e,head:t,body:r}=document;e.replaceChild(this.newHead,t),e.replaceChild(this.newBody,r)}activateBodyScriptElements(){for(const e of this.getScriptElements()){const t=e.parentNode;if(t){const r=this.createScriptElement(e);t.replaceChild(r,e)}}}getScriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class J{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return e.toCacheKey()in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[e.toCacheKey()]}write(e,t){this.snapshots[e.toCacheKey()]=t}touch(e){const t=e.toCacheKey(),r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class X extends z{constructor(e,t,r,n){super(),this.delegate=e,this.currentSnapshot=t,this.currentHeadDetails=t.headDetails,this.newSnapshot=r,this.newHeadDetails=r.headDetails,this.newBody=r.bodyElement,this.isPreview=n}static render(e,t,r,n,i){return new this(e,r,n,i).render(t)}render(e){this.shouldRender()?(this.mergeHead(),this.renderView(()=>{this.replaceBody(),this.isPreview||this.focusFirstAutofocusableElement(),e()})):this.invalidateView()}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){const e=this.relocateCurrentBodyPermanentElements();this.activateNewBody(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)}shouldRender(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()}trackedElementsAreIdentical(){return this.currentHeadDetails.getTrackedElementSignature()==this.newHeadDetails.getTrackedElementSignature()}copyNewHeadStylesheetElements(){for(const e of this.getNewHeadStylesheetElements())document.head.appendChild(e)}copyNewHeadScriptElements(){for(const e of this.getNewHeadScriptElements())document.head.appendChild(this.createScriptElement(e))}removeCurrentHeadProvisionalElements(){for(const e of this.getCurrentHeadProvisionalElements())document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.getNewHeadProvisionalElements())document.head.appendChild(e)}relocateCurrentBodyPermanentElements(){return this.getCurrentBodyPermanentElements().reduce((e,t)=>{const r=this.newSnapshot.getPermanentElementById(t.id);if(r){const n=function(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}}(t);return Y(t,n.element),Y(r,t),[...e,n]}return e},[])}replacePlaceholderElementsWithClonedPermanentElements(e){for(const{element:t,permanentElement:r}of e){Y(t,r.cloneNode(!0))}}activateNewBody(){document.adoptNode(this.newBody),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.getNewBodyScriptElements()){Y(e,this.createScriptElement(e))}}assignNewBody(){document.body?Y(document.body,this.newBody):document.documentElement.appendChild(this.newBody)}focusFirstAutofocusableElement(){const e=this.newSnapshot.findFirstAutofocusableElement();(function(e){return e&&"function"==typeof e.focus})(e)&&e.focus()}getNewHeadStylesheetElements(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)}getNewHeadScriptElements(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)}getCurrentHeadProvisionalElements(){return this.currentHeadDetails.getProvisionalElements()}getNewHeadProvisionalElements(){return this.newHeadDetails.getProvisionalElements()}getCurrentBodyPermanentElements(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)}getNewBodyScriptElements(){return[...this.newBody.querySelectorAll("script")]}}function Y(e,t){const r=e.parentElement;if(r)return r.replaceChild(t,e)}class G{constructor(e){this.htmlElement=document.documentElement,this.snapshotCache=new J(10),this.delegate=e}getRootLocation(){return this.getSnapshot().getRootLocation()}getElementForAnchor(e){return this.getSnapshot().getElementForAnchor(e)}getSnapshot(){return T.fromHTMLElement(this.htmlElement)}clearSnapshotCache(){this.snapshotCache.clear()}shouldCacheSnapshot(){return this.getSnapshot().isCacheable()}async cacheSnapshot(){if(this.shouldCacheSnapshot()){this.delegate.viewWillCacheSnapshot();const e=this.getSnapshot(),t=this.lastRenderedLocation||s.currentLocation;await u(),this.snapshotCache.put(t,e.clone())}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}render({snapshot:e,error:t,isPreview:r},n){this.markAsPreview(r),e?this.renderSnapshot(e,r,n):this.renderError(t,n)}scrollToAnchor(e){const t=this.getElementForAnchor(e);t?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})}scrollToElement(e){e.scrollIntoView()}scrollToPosition({x:e,y:t}){window.scrollTo(e,t)}markAsPreview(e){e?this.htmlElement.setAttribute("data-turbo-preview",""):this.htmlElement.removeAttribute("data-turbo-preview")}renderSnapshot(e,t,r){X.render(this.delegate,r,this.getSnapshot(),e,t||!1)}renderError(e,t){$.render(this.delegate,t,e||"")}}const Z=new class{constructor(){this.navigator=new D(this),this.history=new q(this),this.view=new G(this),this.adapter=new N(this),this.pageObserver=new K(this),this.linkClickObserver=new V(this),this.formSubmitObserver=new H(this),this.scrollObserver=new U(this),this.streamObserver=new _(this),this.frameRedirector=new x(document.documentElement),this.enabled=!0,this.progressBarDelay=500,this.started=!1}start(){this.started||(this.pageObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){this.navigator.proposeVisit(s.wrap(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){document.documentElement.appendChild(W.wrap(e).fragment)}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e){this.enabled?this.navigator.proposeVisit(e,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willFollowLinkToLocation(e,t){return this.elementIsNavigable(e)&&this.locationIsVisitable(t)&&this.applicationAllowsFollowingLinkToLocation(e,t)}followedLinkToLocation(e,t){const r=this.getActionForLink(e);this.visit(t,{action:r})}allowsVisitingLocation(e){return this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){this.adapter.visitProposedToLocation(e,t)}visitStarted(e){this.notifyApplicationAfterVisitingLocation(e.location)}visitCompleted(e){this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}willSubmitForm(e,t){return this.elementIsNavigable(e)&&this.elementIsNavigable(t)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){}pageInvalidated(){this.adapter.pageInvalidated()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillRender(e){this.notifyApplicationBeforeRender(e)}viewRendered(){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}viewInvalidated(){this.pageObserver.invalidate()}viewWillCacheSnapshot(){this.notifyApplicationBeforeCachingSnapshot()}applicationAllowsFollowingLinkToLocation(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t){return a("turbo:click",{target:e,detail:{url:t.absoluteURL},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return a("turbo:before-visit",{detail:{url:e.absoluteURL},cancelable:!0})}notifyApplicationAfterVisitingLocation(e){return a("turbo:visit",{detail:{url:e.absoluteURL}})}notifyApplicationBeforeCachingSnapshot(){return a("turbo:before-cache")}notifyApplicationBeforeRender(e){return a("turbo:before-render",{detail:{newBody:e}})}notifyApplicationAfterRender(){return a("turbo:render")}notifyApplicationAfterPageLoad(e={}){return a("turbo:load",{detail:{url:this.location.absoluteURL,timing:e}})}getActionForLink(e){const t=e.getAttribute("data-turbo-action");return function(e){return"advance"==e||"replace"==e||"restore"==e}(t)?t:"advance"}elementIsNavigable(e){const t=null==e?void 0:e.closest("[data-turbo]");return!t||"false"!=t.getAttribute("data-turbo")}locationIsVisitable(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()}},{navigator:Q}=Z;function ee(){Z.start()}function te(e){Z.registerAdapter(e)}function re(e,t){Z.visit(e,t)}function ne(e){Z.connectStreamSource(e)}function ie(e){Z.disconnectStreamSource(e)}function se(e){Z.renderStreamMessage(e)}function oe(){Z.clearCache()}function ae(e){Z.setProgressBarDelay(e)}ee()},function(e,t,r){e.exports=r(6)},function(e,t,r){var n={"./details_controller.js":4,"./form_controller.js":5};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=3},function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=class extends n.b{disconnect(){this.close()}closeOnClickOutside(e){this.element.contains(e.target)||this.close()}closeOnEscape(e){"Escape"===e.key&&this.close()}open(){this.element.open=!0}close(){this.element.open=!1}toggle(){this.element.open=!this.element.open}}},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(1);t.default=class extends n.b{static get targets(){return["submit"]}submitStart(){this.disableSubmits()}disableSubmits(){this.submitTargets.forEach(e=>e.disabled=!0)}submitEnd(e){e.detail.success&&i.visit(window.location.href)}}},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0);window.Turbo=n;const s=i.a.start(),o=r(3);s.load(function(e){return e.keys().map((function(t){return function(e,t){var r=function(e){var t=(e.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}(t);if(r)return function(e,t){var r=e.default;if("function"==typeof r)return{identifier:t,controllerConstructor:r}}(e(t),r)}(e,t)})).filter((function(e){return e}))}(o))}]);